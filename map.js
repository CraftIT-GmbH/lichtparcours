var routeGeojsonFeature = {
    type: "LineString",
    coordinates: [
        [10.524827799999999, 52.272559099999995],
        [10.5247912, 52.2724943],
        [10.5247659, 52.2724561],
        [10.52469, 52.272326],
        [10.524676699999999, 52.272303199999996],
        [10.524626699999999, 52.2722169],
        [10.524516199999999, 52.2720267],
        [10.5246073, 52.2720066],
        [10.5248908, 52.271944000000005],
        [10.5250373, 52.271919300000008],
        [10.526017699999999, 52.271740799999996],
        [10.5264068, 52.2716563],
        [10.5269683, 52.271549799999995],
        [10.5273808, 52.2714716],
        [10.5287846, 52.271205400000007],
        [10.5289336, 52.271177099999996],
        [10.5296269, 52.2710456],
        [10.5297339, 52.270691899999996],
        [10.5297658, 52.270586599999994],
        [10.5298392, 52.270337999999995],
        [10.5298915, 52.270160999999995],
        [10.5299116, 52.270092899999995],
        [10.5299998, 52.2698074],
        [10.5301303, 52.269385199999995],
        [10.530231299999999, 52.269406900000007],
        [10.530350199999999, 52.2694243],
        [10.530434099999999, 52.269435099999995],
        [10.5304995, 52.2694439],
        [10.5312291, 52.2696389],
        [10.532262699999999, 52.269915399999995],
        [10.532371600000001, 52.269934299999996],
        [10.5333645, 52.270206099999996],
        [10.533507900000002, 52.2702646],
        [10.5339555, 52.270387],
        [10.5340857, 52.2704415],
        [10.534374500000002, 52.270518599999996],
        [10.534635100000001, 52.270593],
        [10.534713199999999, 52.270491799999995],
        [10.5352275, 52.2698353],
        [10.535566, 52.269294099999996],
        [10.535614299999999, 52.269216899999996],
        [10.5356312, 52.268912699999994],
        [10.5356132, 52.268447599999995],
        [10.535614299999999, 52.2684116],
        [10.5356151, 52.2683882],
        [10.535582699999999, 52.2683806],
        [10.535533800000001, 52.268373],
        [10.5353861, 52.268335199999996],
        [10.5351526, 52.268267699999996],
        [10.535001699999999, 52.2682259],
        [10.5348654, 52.2681894],
        [10.5347733, 52.2681639],
        [10.5346655, 52.2681408],
        [10.5346593, 52.2681395],
        [10.5345551, 52.2681127],
        [10.534474, 52.2680888],
        [10.5343571, 52.2680698],
        [10.5342427, 52.268053699999996],
        [10.5341831, 52.268046299999995],
        [10.5341197, 52.268036699999996],
        [10.5340722, 52.268023100000008],
        [10.534035699999999, 52.268012399999996],
        [10.534009399999999, 52.268000699999995],
        [10.533978999999999, 52.267993399999995],
        [10.5339531, 52.267987999999995],
        [10.533935099999999, 52.267986699999994],
        [10.5339178, 52.267988599999995],
        [10.5339077, 52.2679903],
        [10.5338967, 52.2679937],
        [10.533834599999999, 52.2680261],
        [10.5337727, 52.2680544],
        [10.5336859, 52.2681032],
        [10.5336266, 52.268130799999994],
        [10.533591, 52.268153100000006],
        [10.533567, 52.268172799999995],
        [10.5335525, 52.2681913],
        [10.5335358, 52.2682243],
        [10.5335097, 52.2682692],
        [10.533497800000001, 52.268303800000005],
        [10.5335, 52.2683184],
        [10.5335048, 52.2683301],
        [10.533523599999999, 52.2683499],
        [10.5335471, 52.268369799999995],
        [10.5335845, 52.2684031],
        [10.5336064, 52.2684273],
        [10.533618599999999, 52.268453799999996],
        [10.533572699999999, 52.268454899999995],
        [10.5334834, 52.268444099999996],
        [10.5333571, 52.2684256],
        [10.5333271, 52.268421499999995],
        [10.5332925, 52.268421],
        [10.533238, 52.268426899999994],
        [10.5332148, 52.2684317],
        [10.533238, 52.268426899999994],
        [10.5332925, 52.268421],
        [10.5333271, 52.268421499999995],
        [10.5333571, 52.2684256],
        [10.5334834, 52.268444099999996],
        [10.533572699999999, 52.268454899999995],
        [10.533618599999999, 52.268453799999996],
        [10.5336064, 52.2684273],
        [10.5335845, 52.2684031],
        [10.5335471, 52.268369799999995],
        [10.533523599999999, 52.2683499],
        [10.5335048, 52.2683301],
        [10.5335, 52.2683184],
        [10.533497800000001, 52.268303800000005],
        [10.5335097, 52.2682692],
        [10.5335358, 52.2682243],
        [10.5335525, 52.2681913],
        [10.533567, 52.268172799999995],
        [10.533591, 52.268153100000006],
        [10.5336266, 52.268130799999994],
        [10.5336859, 52.2681032],
        [10.5337727, 52.2680544],
        [10.533834599999999, 52.2680261],
        [10.5338967, 52.2679937],
        [10.5339077, 52.2679903],
        [10.5339178, 52.267988599999995],
        [10.533935099999999, 52.267986699999994],
        [10.5339531, 52.267987999999995],
        [10.533978999999999, 52.267993399999995],
        [10.534009399999999, 52.268000699999995],
        [10.534035699999999, 52.268012399999996],
        [10.5340722, 52.268023100000008],
        [10.5341197, 52.268036699999996],
        [10.5341831, 52.268046299999995],
        [10.5342427, 52.268053699999996],
        [10.5343571, 52.2680698],
        [10.534474, 52.2680888],
        [10.5345551, 52.2681127],
        [10.5346593, 52.2681395],
        [10.5346655, 52.2681408],
        [10.5347733, 52.2681639],
        [10.5348654, 52.2681894],
        [10.535001699999999, 52.2682259],
        [10.5351526, 52.268267699999996],
        [10.5353861, 52.268335199999996],
        [10.535533800000001, 52.268373],
        [10.535582699999999, 52.2683806],
        [10.5356151, 52.2683882],
        [10.5356159, 52.2683659],
        [10.5355972, 52.2679848],
        [10.535133199999999, 52.2678358],
        [10.535053399999999, 52.267806799999995],
        [10.5349747, 52.267772199999996],
        [10.534903499999999, 52.2677366],
        [10.5348004, 52.2676771],
        [10.534709999999999, 52.2676182],
        [10.5346663, 52.2675809],
        [10.534603599999999, 52.2675208],
        [10.534557999999999, 52.2674678],
        [10.534504900000002, 52.2674027],
        [10.5344331, 52.2672771],
        [10.534404499999999, 52.2672117],
        [10.5343886, 52.2671563],
        [10.5343737, 52.2670963],
        [10.5343792, 52.2669941],
        [10.5343889, 52.266915],
        [10.534399599999999, 52.2668586],
        [10.5344439, 52.266744499999994],
        [10.534517, 52.2665977],
        [10.5340938, 52.2664646],
        [10.5340317, 52.266440800000005],
        [10.5339735, 52.266412499999994],
        [10.5338999, 52.2663477],
        [10.5335865, 52.266270899999995],
        [10.5334477, 52.266236899999996],
        [10.5333221, 52.2662062],
        [10.5332981, 52.266228],
        [10.5332253, 52.2662826],
        [10.533175499999999, 52.266309899999996],
        [10.5330996, 52.2663377],
        [10.533009500000002, 52.2663553],
        [10.5328383, 52.266375900000007],
        [10.5327808, 52.266382699999994],
        [10.5327626, 52.2664141],
        [10.532712499999999, 52.266475199999995],
        [10.532648, 52.2665356],
        [10.532631100000001, 52.266552],
        [10.532648, 52.2665356],
        [10.532712499999999, 52.266475199999995],
        [10.5327626, 52.2664141],
        [10.5327808, 52.266382699999994],
        [10.5328383, 52.266375900000007],
        [10.533009500000002, 52.2663553],
        [10.5330996, 52.2663377],
        [10.533175499999999, 52.266309899999996],
        [10.5332253, 52.2662826],
        [10.5332981, 52.266228],
        [10.5333221, 52.2662062],
        [10.5334477, 52.266236899999996],
        [10.5335865, 52.266270899999995],
        [10.5336514, 52.266286799999996],
        [10.5335865, 52.266270899999995],
        [10.5334477, 52.266236899999996],
        [10.5333221, 52.2662062],
        [10.5332981, 52.266228],
        [10.5332253, 52.2662826],
        [10.533175499999999, 52.266309899999996],
        [10.5330996, 52.2663377],
        [10.533009500000002, 52.2663553],
        [10.5328383, 52.266375900000007],
        [10.5327808, 52.266382699999994],
        [10.5327626, 52.2664141],
        [10.532712499999999, 52.266475199999995],
        [10.532648, 52.2665356],
        [10.532631100000001, 52.266552],
        [10.533337099999999, 52.2665009],
        [10.533411300000001, 52.266326899999996],
        [10.533442599999999, 52.2662534],
        [10.533484099999999, 52.266181200000005],
        [10.5334989, 52.266155299999994],
        [10.5335646, 52.2660409],
        [10.5336289, 52.2659856],
        [10.5336384, 52.265971],
        [10.5336526, 52.2659525],
        [10.5336611, 52.2659409],
        [10.5336692, 52.2658956],
        [10.5337594, 52.2657731],
        [10.533771699999999, 52.2657563],
        [10.5338403, 52.2656004],
        [10.533845699999999, 52.265588],
        [10.533853299999999, 52.2654521],
        [10.533846299999999, 52.265421300000007],
        [10.533821, 52.2653105],
        [10.5337982, 52.2652455],
        [10.533659, 52.2650854],
        [10.5337522, 52.265038],
        [10.5338263, 52.2649804],
        [10.5338733, 52.2649189],
        [10.533905899999999, 52.2648442],
        [10.533951499999999, 52.264803199999996],
        [10.533952500000002, 52.2647559],
        [10.533927499999999, 52.2646321],
        [10.533927799999999, 52.2646143],
        [10.533940399999999, 52.2645868],
        [10.5339596, 52.264562],
        [10.5340376, 52.2644929],
        [10.534429099999999, 52.2642676],
        [10.534560599999999, 52.264188800000007],
        [10.5346289, 52.264137399999996],
        [10.5346365, 52.264132],
        [10.5348835, 52.263958099999996],
        [10.534891199999999, 52.2639546],
        [10.5348835, 52.263958099999996],
        [10.5346365, 52.264132],
        [10.5346289, 52.264137399999996],
        [10.534560599999999, 52.264188800000007],
        [10.534429099999999, 52.2642676],
        [10.534263099999999, 52.2642369],
        [10.5340893, 52.264201899999996],
        [10.5340251, 52.2641772],
        [10.5339692, 52.2641351],
        [10.5339168, 52.2641022],
        [10.533956, 52.2640421],
        [10.5340949, 52.2637796],
        [10.5341747, 52.2636344],
        [10.5341662, 52.2630512],
        [10.5343657, 52.263018699999996],
        [10.5347713, 52.2629588],
        [10.5343657, 52.263018699999996],
        [10.5341479, 52.2629759],
        [10.534038599999999, 52.262857499999996],
        [10.5330867, 52.2618984],
        [10.5328234, 52.261644399999994],
        [10.532612499999999, 52.2614222],
        [10.532580699999999, 52.2613887],
        [10.532486299999999, 52.261275999999995],
        [10.5323798, 52.2613539],
        [10.5324545, 52.261248099999996],
        [10.532385999999999, 52.261182999999996],
        [10.5321743, 52.260981600000008],
        [10.531951699999999, 52.2607459],
        [10.5317936, 52.260578599999995],
        [10.5313989, 52.260619399999996],
        [10.5313185, 52.2606178],
        [10.5312326, 52.2606038],
        [10.5311535, 52.2605874],
        [10.5310636, 52.2605611],
        [10.5309751, 52.2605316],
        [10.5309336, 52.260506899999996],
        [10.530888000000001, 52.260479],
        [10.5305255, 52.2600951],
        [10.5303516, 52.259908599999996],
        [10.530069, 52.259605699999994],
        [10.5297904, 52.259316399999996],
        [10.5296285, 52.2591353],
        [10.5296928, 52.2589086],
        [10.529782599999999, 52.2588397],
        [10.5298765, 52.2587822],
        [10.529897799999999, 52.258774499999994],
        [10.5301259, 52.258691899999995],
        [10.5301472, 52.25868],
        [10.530238599999999, 52.258628699999996],
        [10.5303057, 52.258560599999996],
        [10.530314299999999, 52.258536799999995],
        [10.530343199999999, 52.2584571],
        [10.5303413, 52.2584464],
        [10.5303268, 52.2583651],
        [10.5303413, 52.2584464],
        [10.530183500000001, 52.2584605],
        [10.530062899999999, 52.2584635],
        [10.5298462, 52.2584728],
        [10.529787599999999, 52.2584733],
        [10.5295779, 52.2584966],
        [10.5295063, 52.2584953],
        [10.5293725, 52.258490599999995],
        [10.529237199999999, 52.2584853],
        [10.5291883, 52.2584831],
        [10.5290336, 52.2584734],
        [10.5285248, 52.258451],
        [10.528324399999999, 52.2584161],
        [10.5280072, 52.258402300000007],
        [10.5280824, 52.2582879],
        [10.5280968, 52.2582661],
        [10.5281302, 52.2581523],
        [10.5281482, 52.2580299],
        [10.5281482, 52.257965999999996],
        [10.5281328, 52.2579076],
        [10.528191999999999, 52.2578354],
        [10.5281729, 52.257777499999996],
        [10.528156, 52.257733599999995],
        [10.5281374, 52.257689199999994],
        [10.5280697, 52.257554799999994],
        [10.5280249, 52.2574614],
        [10.527934199999999, 52.257363399999996],
        [10.5279151, 52.257320299999996],
        [10.5277283, 52.2573349],
        [10.5276826, 52.2573151],
        [10.5276395, 52.257301000000005],
        [10.5275778, 52.257284299999995],
        [10.5275254, 52.257278199999995],
        [10.5274219, 52.257282599999996],
        [10.527403099999999, 52.257282599999996],
        [10.527297299999999, 52.2572908],
        [10.527252599999999, 52.2572985],
        [10.527111699999999, 52.2573228],
        [10.5270505, 52.2573394],
        [10.527010200000001, 52.2573544],
        [10.526981, 52.257365300000004],
        [10.526951799999999, 52.257377399999996],
        [10.5268895, 52.257409300000006],
        [10.5267863, 52.2574648],
        [10.526668899999999, 52.2573831],
        [10.526494999999999, 52.2574767],
        [10.5262146, 52.2576295],
        [10.526208400000002, 52.257632799999996],
        [10.5260889, 52.257698],
        [10.5259971, 52.2577818],
        [10.525915, 52.257826599999994],
        [10.5258317, 52.257902599999994],
        [10.525751399999999, 52.257944699999996],
        [10.5256743, 52.257982999999996],
        [10.525579299999999, 52.2580265],
        [10.5255382, 52.258041999999996],
        [10.5254481, 52.2580744],
        [10.5253584, 52.258100199999994],
        [10.525274999999999, 52.2581212],
        [10.5251944, 52.2581383],
        [10.5251168, 52.258151899999994],
        [10.5250338, 52.258162399999996],
        [10.5249509, 52.2581698],
        [10.524802399999999, 52.2581864],
        [10.524707699999999, 52.258193299999995],
        [10.524605099999999, 52.2582093],
        [10.524512399999999, 52.2582264],
        [10.5243655, 52.2582649],
        [10.524330299999999, 52.258277199999995],
        [10.5241835, 52.258303399999996],
        [10.5241385, 52.258314899999995],
        [10.524004999999999, 52.2583536],
        [10.5237312, 52.258423199999996],
        [10.5231245, 52.2585594],
        [10.5229258, 52.258594699999996],
        [10.522891999999999, 52.2585639],
        [10.522879999999999, 52.2585384],
        [10.5229068, 52.258514600000005],
        [10.522909499999999, 52.2584916],
        [10.5226734, 52.258316],
        [10.522601, 52.2582421],
        [10.5225192, 52.258157499999996],
        [10.5224374, 52.258036800000006],
        [10.522400399999999, 52.2579292],
        [10.5219575, 52.2574086],
        [10.521853199999999, 52.257286099999995],
        [10.5218268, 52.2572684],
        [10.521797, 52.257255199999996],
        [10.5216307, 52.257218699999996],
        [10.5215256, 52.2571978],
        [10.5218749, 52.257090899999994],
        [10.522001699999999, 52.2570586],
        [10.5218961, 52.2568705],
        [10.5218557, 52.2567465],
        [10.521869599999999, 52.256606299999994],
        [10.521932, 52.256479899999995],
        [10.5220028, 52.2563711],
        [10.522048500000002, 52.2563524],
        [10.5221409, 52.256314499999995],
        [10.5222681, 52.256258499999994],
        [10.522362, 52.2561115],
        [10.5225454, 52.255876699999995],
        [10.5225568, 52.2558607],
        [10.5225911, 52.2558128],
        [10.5228003, 52.2555208],
        [10.522925899999999, 52.2553139],
        [10.523136299999999, 52.254940399999995],
        [10.523274899999999, 52.2546928],
        [10.523387999999999, 52.2544231],
        [10.5234338, 52.254261799999995],
        [10.5235197, 52.254115700000007],
        [10.5236039, 52.2539733],
        [10.523758899999999, 52.253745699999996],
        [10.523928999999999, 52.253528599999996],
        [10.524011, 52.253452599999996],
        [10.524023699999999, 52.2534408],
        [10.5241162, 52.253354099999996],
        [10.5241742, 52.253286499999994],
        [10.5242778, 52.253166],
        [10.5243624, 52.2530059],
        [10.524352, 52.2528402],
        [10.5242588, 52.252626899999996],
        [10.5240567, 52.2524519],
        [10.523929599999999, 52.252443799999995],
        [10.5238373, 52.252442699999996],
        [10.5237188, 52.252454],
        [10.523520999999999, 52.2524893],
        [10.523485599999999, 52.2524971],
        [10.5232224, 52.252555],
        [10.523050699999999, 52.2525793],
        [10.5228659, 52.252595299999996],
        [10.5226005, 52.252592],
        [10.5223044, 52.252558199999996],
        [10.5222845, 52.252556399999996],
        [10.5220209, 52.2525331],
        [10.5219936, 52.252534800000006],
        [10.5217418, 52.2525501],
        [10.5215456, 52.2526138],
        [10.5214853, 52.252637799999995],
        [10.5214083, 52.252681599999995],
        [10.5213386, 52.2527239],
        [10.521231799999999, 52.252787999999995],
        [10.5211243, 52.2528941],
        [10.5210831, 52.2529432],
        [10.5210393, 52.252994799999996],
        [10.5210075, 52.2530651],
        [10.5209829, 52.253132099999995],
        [10.520955100000002, 52.2532377],
        [10.520956799999999, 52.2532937],
        [10.5208055, 52.2533354],
        [10.5207344, 52.2533374],
        [10.5207447, 52.253482299999995],
        [10.5207465, 52.253508100000005],
        [10.5207449, 52.2536244],
        [10.520837, 52.2537611],
        [10.5209037, 52.2538574],
        [10.52098, 52.2539674],
        [10.521008900000002, 52.2540251],
        [10.5210951, 52.254197],
        [10.5211103, 52.2542273],
        [10.5211449, 52.2543892],
        [10.521227399999999, 52.2545642],
        [10.5213244, 52.254815799999996],
        [10.5213974, 52.2549905],
        [10.5214448, 52.2550872],
        [10.521410099999999, 52.2551357],
        [10.521399400000002, 52.2552178],
        [10.5213927, 52.2554288],
        [10.5213664, 52.2556589],
        [10.521326799999999, 52.2557967],
        [10.5213062, 52.2558685],
        [10.521259899999999, 52.2559739],
        [10.521214299999999, 52.2560453],
        [10.5211781, 52.2561085],
        [10.521129799999999, 52.2562037],
        [10.5210923, 52.2562727],
        [10.5209836, 52.2565009],
        [10.5209134, 52.256658699999996],
        [10.5208361, 52.256832599999996],
        [10.5207664, 52.2569902],
        [10.5207503, 52.2570747],
        [10.5207489, 52.2571191],
        [10.5207482, 52.2571857],
        [10.520590799999999, 52.2571741],
        [10.520299099999999, 52.2571525],
        [10.520007399999999, 52.2571309],
        [10.5200189, 52.257239],
        [10.5200253, 52.257298600000006],
        [10.5200534, 52.257417499999995],
        [10.5200593, 52.2574423],
        [10.5200581, 52.2575826],
        [10.5200546, 52.2577128],
        [10.520026999999999, 52.257810899999996],
        [10.520011, 52.257867499999996],
        [10.519965899999999, 52.257992099999996],
        [10.5198539, 52.2581968],
        [10.519822, 52.2582332],
        [10.5197749, 52.258286999999996],
        [10.5196867, 52.258402],
        [10.519603499999999, 52.2584577],
        [10.5195682, 52.2584776],
        [10.519554, 52.258493300000005],
        [10.5195475, 52.2585072],
        [10.5195451, 52.2585245],
        [10.519548, 52.258541699999995],
        [10.519624199999999, 52.2588315],
        [10.519624199999999, 52.2588455],
        [10.5196192, 52.258857199999994],
        [10.5196112, 52.2588662],
        [10.519594, 52.258877399999996],
        [10.519487999999999, 52.258894999999995],
        [10.5195165, 52.259003],
        [10.5195872, 52.2592017],
        [10.5191731, 52.2592731],
        [10.519101, 52.2592782],
        [10.5190337, 52.259282999999996],
        [10.518722799999999, 52.259288],
        [10.5186313, 52.259289499999994],
        [10.5185658, 52.2592838],
        [10.518450999999999, 52.259292200000004],
        [10.518379999999999, 52.2594901],
        [10.518160600000002, 52.259461099999996],
        [10.5180332, 52.2594447],
        [10.517934, 52.2594299],
        [10.517872299999999, 52.259418399999994],
        [10.517824, 52.259409399999996],
        [10.5178096, 52.259405199999996],
        [10.5177784, 52.2593962],
        [10.5177328, 52.2593831],
        [10.5176872, 52.2593659],
        [10.5175933, 52.2593281],
        [10.5173855, 52.2592378],
        [10.517258, 52.2591836],
        [10.517178, 52.2591459],
        [10.5171467, 52.2591311],
        [10.517076999999999, 52.259098300000005],
        [10.5169845, 52.2590465],
        [10.5169295, 52.2590071],
        [10.5168866, 52.2589702],
        [10.5168689, 52.2589246],
        [10.5168021, 52.258968499999995],
        [10.516771799999999, 52.258992899999996],
        [10.516734999999999, 52.2590177],
        [10.5166518, 52.2590661],
        [10.516624199999999, 52.2590892],
        [10.516548799999999, 52.259133299999995],
        [10.516359, 52.2592885],
        [10.516314699999999, 52.2593831],
        [10.5162678, 52.2594338],
        [10.5162402, 52.2594802],
        [10.5161862, 52.2595509],
        [10.516076799999999, 52.259707399999996],
        [10.5160013, 52.2598184],
        [10.5159034, 52.259898199999995],
        [10.5158806, 52.2599321],
        [10.5158545, 52.2600206],
        [10.5156908, 52.2602645],
        [10.515511799999999, 52.260533599999995],
        [10.5154716, 52.260600499999995],
        [10.515386099999999, 52.260677600000008],
        [10.5153543, 52.2607317],
        [10.5153375, 52.2608277],
        [10.515324099999999, 52.2608484],
        [10.5152822, 52.260915399999995],
        [10.515220099999999, 52.2610071],
        [10.515125999999999, 52.261083],
        [10.5150578, 52.2611713],
        [10.5149539, 52.2613001],
        [10.5149185, 52.2613924],
        [10.5148843, 52.2614332],
        [10.5148213, 52.261507599999995],
        [10.514719099999999, 52.261579],
        [10.5147024, 52.2616435],
        [10.514635799999999, 52.2617246],
        [10.5145685, 52.2618039],
        [10.5145333, 52.2618524],
        [10.514439999999999, 52.261987299999994],
        [10.5143959, 52.2620509],
        [10.51438, 52.2621126],
        [10.5143307, 52.2623829],
        [10.514313699999999, 52.2625593],
        [10.5143092, 52.2626056],
        [10.5142736, 52.2626442],
        [10.5139788, 52.2625426],
        [10.513497899999999, 52.2625046],
        [10.5130812, 52.262461699999996],
        [10.512714599999999, 52.262423899999995],
        [10.5126168, 52.262416],
        [10.512579299999999, 52.262413],
        [10.512320599999999, 52.2623921],
        [10.512205999999999, 52.2623866],
        [10.5120956, 52.262381299999994],
        [10.5117353, 52.2623755],
        [10.5116062, 52.262369299999996],
        [10.5115277, 52.2623639],
        [10.511448399999999, 52.262350999999995],
        [10.5112765, 52.2626078],
        [10.5112167, 52.262678799999996],
        [10.5111938, 52.262702],
        [10.5110507, 52.262847099999995],
        [10.510815599999999, 52.263006999999995],
        [10.5106988, 52.2630849],
        [10.5105883, 52.2631483],
        [10.5104867, 52.2632207],
        [10.510432699999999, 52.263258900000004],
        [10.5102931, 52.263311699999996],
        [10.5101727, 52.2633811],
        [10.5100429, 52.263469099999995],
        [10.509876199999999, 52.263625000000005],
        [10.509774199999999, 52.2637607],
        [10.5097422, 52.2638034],
        [10.509675, 52.2639298],
        [10.509532499999999, 52.263885400000007],
        [10.509525199999999, 52.2638831],
        [10.509532499999999, 52.263885400000007],
        [10.509675, 52.2639298],
        [10.5096448, 52.2640454],
        [10.509590099999999, 52.2642333],
        [10.5095859, 52.264285],
        [10.5095802, 52.2643561],
        [10.5096122, 52.2644318],
        [10.509649099999999, 52.264452299999995],
        [10.509754, 52.2645108],
        [10.5098945, 52.264590999999996],
        [10.5100397, 52.264703],
        [10.5101366, 52.2647863],
        [10.5102262, 52.2648705],
        [10.510346799999999, 52.2649306],
        [10.510477999999999, 52.264984899999995],
        [10.5106045, 52.2651353],
        [10.5108822, 52.265389299999995],
        [10.5113115, 52.2657423],
        [10.5117257, 52.2660964],
        [10.5121447, 52.266518],
        [10.5127025, 52.267004400000005],
        [10.5128223, 52.2671025],
        [10.513361, 52.2675458],
        [10.5131784, 52.2676247],
        [10.5130927, 52.267676099999996],
        [10.513058299999999, 52.267691199999994],
        [10.5129195, 52.2677568],
        [10.5128059, 52.267824999999995],
        [10.5127735, 52.267844499999995],
        [10.512733299999999, 52.2678765],
        [10.5129006, 52.2679438],
        [10.5131061, 52.267896],
        [10.5132496, 52.2678588],
        [10.513286700000002, 52.2678456],
        [10.513378099999999, 52.267817199999996],
        [10.513433, 52.2677974],
        [10.5135091, 52.267814699999995],
        [10.513562499999999, 52.267832899999995],
        [10.5136161, 52.26786],
        [10.5136533, 52.2678868],
        [10.5139629, 52.2681646],
        [10.5140808, 52.268262],
        [10.5142258, 52.268302999999996],
        [10.5142633, 52.268391000000008],
        [10.5143626, 52.268447099999996],
        [10.5145051, 52.2685633],
        [10.514358399999999, 52.2686383],
        [10.514272700000001, 52.2686767],
        [10.514268399999999, 52.268678599999994],
        [10.514272700000001, 52.2686767],
        [10.514358399999999, 52.2686383],
        [10.5145051, 52.2685633],
        [10.5143626, 52.268447099999996],
        [10.5143256, 52.2683635],
        [10.514240200000001, 52.268301600000008],
        [10.5141982, 52.2682128],
        [10.514134199999999, 52.2681739],
        [10.513881099999999, 52.2679717],
        [10.5137283, 52.267836499999994],
        [10.5136918, 52.267789199999996],
        [10.5136726, 52.2677395],
        [10.513670099999999, 52.2676969],
        [10.513747, 52.267663399999996],
        [10.5138313, 52.2676265],
        [10.513985199999999, 52.267559999999996],
        [10.5141417, 52.267521599999995],
        [10.5143651, 52.267426],
        [10.5146089, 52.2673213],
        [10.5146491, 52.267306299999994],
        [10.5147646, 52.267254199999996],
        [10.514903499999999, 52.2672062],
        [10.5149507, 52.267193299999995],
        [10.5150934, 52.2671528],
        [10.5149825, 52.267057799999996],
        [10.5149443, 52.2670465],
        [10.5148994, 52.267011499999995],
        [10.514862299999999, 52.266982500000005],
        [10.5148096, 52.2669341],
        [10.515021899999999, 52.2668604],
        [10.51507, 52.266843699999995],
        [10.5151782, 52.2667857],
        [10.51539, 52.2667245],
        [10.5155619, 52.266685599999995],
        [10.515696499999999, 52.26666],
        [10.5157279, 52.2666541],
        [10.515780099999999, 52.266646599999994],
        [10.515937599999999, 52.2666027],
        [10.5161655, 52.266580399999995],
        [10.5165315, 52.266556599999994],
        [10.5167044, 52.2665453],
        [10.5167405, 52.2665099],
        [10.5167512, 52.266485200000005],
        [10.516763500000001, 52.266448],
        [10.516862399999999, 52.2661285],
        [10.5168892, 52.266056299999995],
        [10.5169322, 52.2659463],
        [10.5169403, 52.265921000000006],
        [10.5169603, 52.2658585],
        [10.5169818, 52.2658019],
        [10.5170126, 52.2657452],
        [10.5171467, 52.2655245],
        [10.517549599999999, 52.2648684],
        [10.517672899999999, 52.2646732],
        [10.517818199999999, 52.264418899999995],
        [10.5178473, 52.2643625],
        [10.5179185, 52.264224299999995],
        [10.5180502, 52.2639327],
        [10.5180144, 52.263853],
        [10.5180327, 52.2637758],
        [10.5180554, 52.263732],
        [10.5181302, 52.2637171],
        [10.518069299999999, 52.2637053],
    ],
};

var pointsWithData = [
    {
        id: "01",
        latitude: 52.27251,
        longitude: 10.52506,
        artist: "IAK TU Braunschweig",
        art: "West auf Nordwest",
        photo: "https://source.unsplash.com/featured/?city",
        moreInformationLink: "https://example.com/more-information-1",
        navigationLink: "https://example.com/navigation-1",
        type: "new",
    },
    {
        id: "02",
        latitude: 52.26827,
        longitude: 10.53307,
        artist: "Jacqueline Hen",
        art: "One’s Sunset is Another One’s Sunrise",
        photo: "https://source.unsplash.com/featured/?street",
        moreInformationLink: "https://example.com/more-information-2",
        navigationLink: "https://example.com/navigation-2",
        type: "new",
    },
    {
        id: "03",
        latitude: 52.26387,
        longitude: 10.53479,
        artist: "Christian Holl",
        art: "Observer",
        photo: "https://source.unsplash.com/featured/?landscape",
        moreInformationLink: "https://example.com/more-information-3",
        navigationLink: "https://example.com/navigation-3",
        type: "new",
    },
    {
        id: "04",
        latitude: 52.26293,
        longitude: 10.53476,
        artist: "Christine Schulz",
        art: "reflexion_reflexion",
        photo: "https://source.unsplash.com/featured/?art",
        moreInformationLink: "https://example.com/more-information-4",
        navigationLink: "https://example.com/navigation-4",
        type: "new",
    },
    {
        id: "05",
        latitude: 52.25971,
        longitude: 10.53092,
        artist: "Jens Pecho",
        art: "Great Tits Mobbing Phallic Landmark",
        photo: "https://source.unsplash.com/featured/?sculpture",
        moreInformationLink: "https://example.com/more-information-5",
        navigationLink: "https://example.com/navigation-5",
        type: "new",
    },
    {
        id: "06",
        latitude: 52.25832,
        longitude: 10.53039,
        artist: "Šejla Kamerić",
        art: "T G I F S",
        photo: "https://source.unsplash.com/featured/?installation",
        moreInformationLink: "https://example.com/more-information-6",
        navigationLink: "https://example.com/navigation-6",
        type: "new",
    },
    {
        id: "07",
        latitude: 52.257528,
        longitude: 10.521583,
        artist: "Luzinterruptus",
        art: "(Plastic) Full Moon",
        photo: "https://source.unsplash.com/featured/?moon",
        moreInformationLink: "https://example.com/more-information-7",
        navigationLink: "https://example.com/navigation-7",
        type: "new",
    },
    {
        id: "08",
        latitude: 52.25595,
        longitude: 10.52289,
        artist: "Jan Philip Scheibe",
        art: "Rotlicht",
        photo: "https://source.unsplash.com/featured/?light",
        moreInformationLink: "https://example.com/more-information-8",
        navigationLink: "https://example.com/navigation-8",
        type: "new",
    },
    {
        id: "09",
        latitude: 52.25276,
        longitude: 10.52364,
        artist: "Alona Rodeh",
        art: "Slow Swan Social Club",
        photo: "https://source.unsplash.com/featured/?swan",
        moreInformationLink: "https://example.com/more-information-9",
        navigationLink: "https://example.com/navigation-9",
        type: "new",
    },
    {
        id: "10",
        latitude: 52.25348,
        longitude: 10.52083,
        artist: "Bettina Pousttchi",
        art: "Swarm",
        photo: "https://source.unsplash.com/featured/?birds",
        moreInformationLink: "https://example.com/more-information-10",
        navigationLink: "https://example.com/navigation-10",
        type: "new",
    },
    {
        id: "11",
        latitude: 52.25922,
        longitude: 10.51909,
        artist: "Marinella Senatore",
        art: "Assembly",
        photo: "https://source.unsplash.com/featured/?assembly",
        moreInformationLink: "https://example.com/more-information-11",
        navigationLink: "https://example.com/navigation-11",
        type: "new",
    },
    {
        id: "12",
        latitude: 52.26383,
        longitude: 10.50957,
        artist: "IAK TU Braunschweig",
        art: "BETRETEN VERBOTEN",
        photo: "https://source.unsplash.com/featured/?forbidden",
        moreInformationLink: "https://example.com/more-information-12",
        navigationLink: "https://example.com/navigation-12",
        type: "new",
    },
    {
        id: "13",
        latitude: 52.26868,
        longitude: 10.51427,
        artist: "Monica Bonvicini",
        art: "Hit & Run Lovers",
        photo: "https://source.unsplash.com/featured/?lovers",
        moreInformationLink: "https://example.com/more-information-13",
        navigationLink: "https://example.com/navigation-13",
        type: "new",
    },
    {
        id: "14",
        latitude: 52.26368,
        longitude: 10.51804,
        artist: "Tobias Rehberger",
        art: "We Are Not Done Yet",
        photo: "https://source.unsplash.com/featured/?sculpture",
        moreInformationLink: "https://example.com/more-information-14",
        navigationLink: "https://example.com/navigation-14",
        type: "new",
    },
    {
        id: "I",
        latitude: 52.266537,
        longitude: 10.53256,
        artist: "Michael Sallstorfer",
        art: "Solarkatze",
        photo: "https://source.unsplash.com/featured/?installation",
        moreInformationLink: "https://example.com/more-information-I",
        navigationLink: "https://example.com/navigation-I",
        type: "static",
    },
    {
        id: "II",
        latitude: 52.266243,
        longitude: 10.53368,
        artist: "Yvonne Goulbier",
        art: "Evokation in Rot",
        photo: "https://source.unsplash.com/featured/?installation",
        moreInformationLink: "https://example.com/more-information-II",
        navigationLink: "https://example.com/navigation-II",
        type: "static",
    },
    {
        id: "III",
        latitude: 52.259072,
        longitude: 10.517271,
        artist: "Fabrizio Plessi",
        art: "Bogen der Erinnerung",
        photo: "https://source.unsplash.com/featured/?installation",
        moreInformationLink: "https://example.com/more-information-III",
        navigationLink: "https://example.com/navigation-III",
        type: "static",
    },
    {
        id: "IV",
        latitude: 52.262591,
        longitude: 10.512541,
        artist: "Mark Dion",
        art: "Der Elster Flohmarkt",
        photo: "https://source.unsplash.com/featured/?installation",
        moreInformationLink: "https://example.com/more-information-IV",
        navigationLink: "https://example.com/navigation-IV",
        type: "static",
    },
    {
        id: "V",
        latitude: 52.257061,
        longitude: 10.526222,
        artist: "Johannes Wohnseifer",
        art: "No Sleep",
        photo: "https://source.unsplash.com/featured/?installation",
        moreInformationLink: "https://example.com/more-information-V",
        navigationLink: "https://example.com/navigation-V",
        type: "static",
    },
];

var modifiers = {
    selected: "__selected",
    hovered: "__hovered",
    open: "__open",
};
var selectors = {
    marker: "marker",
    newMarker: "newMarker marker",
    newMarkerSelected: "newMarker marker" + modifiers.selected,
    staticMarker: "staticMarker marker",
    staticMarkerSelected: "staticMarker marker" + modifiers.selected,
    about: "about",
    aboutOpen: "about" + modifiers.open,
    aboutHeaderTitle: "about-header-title",
    aboutHeaderClose: "about-header-close",
    aboutPhoto: "about-photo",
    aboutLink: "about-link",
    aboutLinkMoreInformation: "about-link-moreInformation",
    aboutLinkNavigation: "about-link-navigation",
    searchOptions: "search-options",
    searchOptionsOpen: "search-options" + modifiers.open,
    searchOptionsEntry: "search-options-entry",
    searchInput: "search-input",
};

var map = L.map("map").setView([52.265, 10.5268], 15);

L.geoJSON(routeGeojsonFeature, {
    style: {
        color: "#2a1f7e",
        weight: 5,
    },
}).addTo(map);

map.zoomControl.setPosition("bottomright");

var tiles = L.tileLayer(
    "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
    {
        maxZoom: 19,
        attribution:
            '<a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    }
).addTo(map);

pointsWithData.forEach(function (point) {
    if (point.type === "new") {
        renderPoint(point, selectors.newMarker);
    } else {
        renderPoint(point, selectors.staticMarker);
    }
});

function renderPoint(point, selector) {
    L.marker([point.latitude, point.longitude], {
        icon: generateIcon(point),
    })
        .addTo(map)
        // this on mouseover in order to emulate hover effect -- highlight hovered marker
        .on("mouseover", function (event) {
            // if marker is already selected -- do nothing
            if (
                event.target
                    .getElement()
                    .classList.contains(selectors.marker + modifiers.selected)
            )
                return;

            // highligt by setting new icon
            event.target.setIcon(generateIcon(point, modifiers.hovered));
        })
        // this on mouseout in order to reset hover effect -- after mouse leaves marker, reset to default state
        .on("mouseout", function (event) {
            // if marker is already selected -- do nothing
            if (
                event.target
                    .getElement()
                    .classList.contains(selectors.marker + modifiers.selected)
            )
                return;

            // reset by setting default icon
            event.target.setIcon(generateIcon(point));
        })
        // this on click in order to emulate selected effect -- highlight selected marker
        // and open about information in popup
        .on("click", function (event) {
            // find previously selected marker and try to unselect
            tryUnselect(selectors.marker);

            event.target.setIcon(generateIcon(point, modifiers.selected));

            // find "about" container element
            var aboutElement = findFirstElementByClass(selectors.about);
            aboutElement.classList.add(selectors.aboutOpen);

            aboutElement.dataset.pointId = point.id;
            aboutElement.dataset.pointType = point.type;

            // adding current point title to about popup
            var aboutTitleElement = findFirstElementByClass(
                selectors.aboutHeaderTitle
            );
            aboutTitleElement.textContent = getPointTitle(point);

            // adding current point photo to about popup
            var aboutPhotoElement = findFirstElementByClass(
                selectors.aboutPhoto
            );
            aboutPhotoElement.src = point.photo;

            // adding current point links to about popup
            var aboutLinkMoreInformationElement = findFirstElementByClass(
                [selectors.aboutLink, selectors.aboutLinkMoreInformation].join(
                    " "
                )
            );
            aboutLinkMoreInformationElement.href = point.moreInformationLink;

            var aboutLinkNavigationElement = findFirstElementByClass(
                [selectors.aboutLink, selectors.aboutLinkNavigation].join(" ")
            );
            aboutLinkNavigationElement.href = point.navigationLink;
        });
}

var searchOptionsElement = findFirstElementByClass(
    selectors.searchOptions
);

// listen to event to elements which are added/removed dynamically
document.addEventListener("click", function (event) {
    // handle "about" popup close
    if (event.target.classList.contains(selectors.aboutHeaderClose)) {
        var aboutElement = findFirstElementByClass(selectors.about);
        aboutElement.classList.remove(selectors.aboutOpen);

        tryUnselect(selectors.marker);
    }

    // handle search options entry click
    if (event.target.classList.contains(selectors.searchOptionsEntry)) {
        searchOptionsElement.innerHTML = "";

        findFirstElementByClass(
            selectors.marker + "-" + event.target.dataset.pointId
        ).click();
    }
});

// handle search input updates in order to launch search
findFirstElementByClass(selectors.searchInput).addEventListener(
    "keyup",
    function (event) {
        searchOptionsElement.classList.add(selectors.searchOptionsOpen);

        searchOptionsElement.innerHTML = "";

        if (event.target.value === "") return;

        // filter points by search query and generate search options
        pointsWithData
            .filter(function (point) {
                return getPointTitle(point)
                    .toLowerCase()
                    .includes(event.target.value.toLowerCase());
            })
            .forEach(function (point) {
                var li = document.createElement("li");

                li.classList.add(selectors.searchOptionsEntry);

                li.textContent = getPointTitle(point);

                li.dataset.pointId = point.id;
                li.dataset.pointType = point.type;

                searchOptionsElement.appendChild(li);
            });
    }
);

// UTILS functions:

function generateIcon(point, modifier) {
    return L.divIcon({
        html: point.id,
        iconSize: [22, 22],
        iconAnchor: [11, 11],
        className: [
            getMarkerClassName(point.type),
            getMarkerClassName(point.type) + "-" + point.id,
            modifier ? getMarkerClassName(point.type, modifier) : null,
        ]
            .filter(Boolean)
            .join(" "),
    });
}

function getMarkerClassName(type, modifier) {
    return type + "Marker marker" + (modifier || "");
}

function findFirstElementByClass(className) {
    return document.getElementsByClassName(className)[0];
}

function tryUnselect(selector) {
    var previousSelected = findFirstElementByClass(
        selector + modifiers.selected
    );

    // if previous selected exists, remove selection
    if (previousSelected) {
        previousSelected.classList.remove(selector + modifiers.selected);
    }
}

function getPointTitle(point) {
    var nonBreakingSpace = "\u00A0";

    return (
        point.id +
        nonBreakingSpace +
        point.artist.replace(/\s+/g, nonBreakingSpace) +
        " - " +
        point.art
    );
}